<!DOCTYPE html>
<html lang="en" class="no-js">
<head lang="en">
    <meta charset="UTF-8">
    <title>I love Python! — Kw’s Blog</title>
    <meta name="description" content="A word about Python.">
    <meta name="author" content="Kwpolska">
    <!--  Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="">

    <link rel="canonical" href="/">
    <link rel="home" href="http://kwpolska.tk">
    <link rel="prev" href="/blog/2011-08-28-youtubes-cosmic-panda-sucks.html">
    <link rel="next" href="/blog/2011-03-05-zsh-a-shell-for-the-power-users.html">

        <link rel="shortcut icon" href="http://kwcdn.tk/favicon.ico">
    <link rel="apple-touch-icon" href="http://kwcdn.tk/apple-touch-icon.png">
    
        <link rel="stylesheet" href="http://kwcdn.tk/css/light.min.css">    
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700,200italic,300italic,400italic,700italic|Droid+Sans+Mono|Raleway:100&subset=latin,latin-ext' rel='stylesheet' type='text/css'>    
          <script src="http://kwcdn.tk/js/libs/modernizr-2.0.6.min.js"></script>
        </head>
<body id="2011-08-03-i-love-python">
        <header>
                <nav id="sitenav">
            <div id="logo"><a href="http://kwpolska.tk"><img src="http://kwcdn.tk/images/transparent.png" alt="Kw"></a></div>
                                    <ul>
                        <li>
            <a title="Home Page"
                class="menuitem home"
                href="/">
                Home
            </a>
        </li>                <li>
            <a title="Blog"
                class="menuitem active blog"
                href="/blog">
                Blog
            </a>
        </li>                <li>
            <a title="Projects"
                class="menuitem projects"
                href="/projects">
                Projects
            </a>
        </li>                <li>
            <a title="KwBot"
                class="menuitem kwbot"
                href="/kwbot">
                KwBot
            </a>
        </li>                <li>
            <a title="Contact"
                class="menuitem contact"
                href="/contact">
                Contact
            </a>
        </li>                <li>
            <a title="Search"
                class="menuitem search"
                href="/search">
                Search
            </a>
        </li>    </ul>
                        <h1 id="sitetitle">I love Python!</h1>
                </nav>
    </header>
    
        <section class="content">
<nav class="postnav">
    <ul>
        <li class="prev">
            <a class="prev"
                title="YouTube’s Cosmic Panda Sucks!"
                href="/blog/2011-08-28-youtubes-cosmic-panda-sucks.html">Previous</a>        </li>
        <li class="backlink">
        <a class="backlink" href="/blog/">Back to list</a>
        </li>

        <li class="next">
            <a class="next"
                title="Zsh — A Shell For The Power Users."
                href="/blog/2011-03-05-zsh-a-shell-for-the-power-users.html">Next</a>        </li>
    </ul>
</nav>
<article>
<header>
<h1><a href="/blog/2011/08/03/i-love-python/">I love Python!</a></h1>
<div>Published <time datetime="2011-08-03">Wed, August 03, 2011</time></div>
<div class="tags">Tags: <a href="/blog/tags/python.html">python</a>; <a href="/blog/tags/programming.html">programming</a>; <a href="/blog/tags/projects.html">projects</a>; </div>
</header>
<div class="text">
<figure>
<a href="http://python.org" title="Python"><img src="http://kwcdn.tk/blog-content/python-logo.png" alt="Python logo" /></a>
<figcaption>Python logo</figcaption>
</figure>

<p>I recently started writing <a href="http://python.org/" title="Python">Python</a> code. And I love&nbsp;it.</p>
<p>If you’d ask me a week ago about Python, I’d say “meh.”  Python3K?  I
wouldn’t be happy about it.  Sunday evening?  I love&nbsp;both.</p>
<h2>One project,&nbsp;rewritten</h2>
<p>I wrote a new project.  Or rather re-wrote a Perl&nbsp;“project”.</p>
<p>The project, once a little help for building <span class="caps">AUR</span> packages, now is almost
a fully-featured <span class="caps">AUR</span> helper (it has no update function, but I will
write one soon).  It’s the <a href="https://github.com/Kwpolska/kru/tree/master/pkgbuilder" title="kru/pkgbuilder">PKGBUILDer</a>.</p>
<p>The Perl version (search in the repo, linked above) had 56 lines.  In
short, it did something like this (rewritten to&nbsp;bash):</p>
<p>(code updated 2012-09-18T16:15:00Z)
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="k">function </span>generate<span class="o">(</span>package<span class="o">)</span> <span class="o">{</span><br />    <span class="nv">pk</span><span class="o">=</span><span class="k">${</span><span class="nv">package</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">2</span><span class="k">}</span><br />    wget http://aur.archlinux.org/<span class="nv">$pk</span>/<span class="nv">$package</span>.tar.gz<br />    tar -xzvf <span class="nv">$package</span>.tar.gz<br />    <span class="nb">cd</span> <span class="nv">$package</span><br />    makepkg -si<br />    <span class="nb">cd</span> ..<br /><span class="o">}</span><br />&nbsp;<br /><span class="k">for </span>package in <span class="nv">$@</span>, <span class="k">do </span>generate<span class="o">(</span>package<span class="o">)</span>; <span class="k">done</span><br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>This code is really, <span class="caps">REALLY</span> bad.  But it worked for me, because the
“normal” <span class="caps">AUR</span> helpers were slow.  I wanted to do something about it.  I put
an entry on my <span class="caps">TODO</span> list about it.  A few months later I decided to do it.
The <span class="caps">TODO</span> list entry said “write build.py”.  I wanted to use Python because
I wanted to learn it.  In fact, I began <em>loving</em>&nbsp;Python.</p>
<p>The Perl version had 56 lines.  A shortened version of it in Bash took only
10 (I skipped a few features, the full version would be around 20 lines or
so.)  Take a guess: how long is the Python version? 30 lines?  100?  No.
300 lines.  How could this happen?  No, <em>not</em> because Python is a pain in
the ass to write.  It was because I could implement new, great features
<span class="caps">EASILY</span>.  The original version could only download a package and build it.
What if the package didn’t exist?  The library responsible for untarring it
would throw an error.  And even if makepkg had a problem with building the
package, the script would happily inform the user that it was successfully
bulit…  What are the new features, you may ask?  Install validation, i.e.
checking if the package is installed or not.  Package searching, sanity
checks, dependency solving…  This is great.  If I’d like to write it in
Perl, it will take me ages and I’m not sure if there is any libalpm&nbsp;wrapper.</p>
<p>If you think that you can rewrite it in Perl, sure, go for it, if you&nbsp;will:</p>
<ul>
<li>find a working libalpm wrapper or write one&nbsp;yourself</li>
<li>port python3-aur (it heps with the <span class="caps">XML</span>-<span class="caps">RPC</span> of the <span class="caps">AUR</span>) to&nbsp;perl</li>
<li>implement <span class="caps">EVERY</span> feature of the Py3K&nbsp;version</li>
<li>give me the code and tell me how long did you write&nbsp;it</li>
</ul>
<p>Done?  Great then, <a href="http://kwpolska.tk/contact/">contact me</a>.</p>
<h2>Documentation</h2>
<p>Python has the friendliest web documentation ever.  <span class="caps">PHP</span>’s looks a bit
harsh.  Perl’s is not easy to&nbsp;search.</p>
<p>Time for a real world example:  I want to learn how to write a specific
function in Perl, <span class="caps">PHP</span> and Python.  This function would print the argument.
For example, in C (this code <span class="caps">REALLY</span> sucks, but it is just an example):
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span><br /><span class="kt">void</span> <span class="nf">writeStuff</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="p">{</span><br />    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Input: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">);</span><br /><span class="p">}</span><br /><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span><br />    <span class="n">writeStuff</span><span class="p">(</span><span class="s">&quot;some stuff to print&quot;</span><span class="p">);</span><br />    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span><br /><span class="p">}</span><br /></pre></div><br /><figcaption>C</figcaption></figure></div></p>
<p>Notice: by “searching” in docs I mean reading the page and looking for
a&nbsp;thing.</p>
<p><strong>Perl:</strong> Let’s begin at <a href="http://perl.org">http://perl.org</a>. Documentation tab, Tutorials.
I need to define a function.  Nothing seems to help me.  I look at the
sidebar and find <em>Reference/Functions</em>.  Great, that’s what I need, so i
click it…  I can’t see anything about functions.  Langauge reference?
Nothing.  I ask Google and I learn that Perl names them <em>subroutines</em>.  I
check the Language reference:  it’s the sub function, now I can define my
function and call it.  printf?  Let’s look it up in the Functions list.
We’re done.
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="k">sub </span><span class="nf">writeStuff</span> <span class="p">{</span><br />    <span class="k">my</span> <span class="nv">$text</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span><br />    <span class="nb">printf</span><span class="p">(</span><span class="s">&quot;Input: %s\n&quot;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span><br /><span class="p">}</span><br /><span class="n">writeStuff</span><span class="p">(</span><span class="s">&quot;some stuff to print&quot;</span><span class="p">);</span><br /></pre></div><br /><figcaption>Perl</figcaption></figure></div></p>
<p>Perl’s documentation is anywhere near&nbsp;user-friendliness.</p>
<p><strong><span class="caps">PHP</span>:</strong> <a href="http://php.net">http://php.net</a>.  Why is the <em>documentation</em> link so small?
Anyways, I need functions.  Language Refernce/Functions.  Here we go, one
more click and I know how to make a function.  And I guess that I’ll have
to search the Function Reference.  I find text processing, go for Strings
and I can happily see printf.  Take a look and we can write this:
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span><br /><span class="k">function</span> <span class="nf">writeStuff</span><span class="p">(</span><span class="nv">$text</span><span class="p">)</span> <span class="p">{</span><br />    <span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;Input: %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span><br /><span class="p">}</span><br /><span class="nx">writeStuff</span><span class="p">(</span><span class="s2">&quot;some stuff to print&quot;</span><span class="p">);</span><br /><span class="cp">?&gt;</span><span class="x"></span><br /></pre></div><br /><figcaption><span class="caps">PHP</span></figcaption></figure></div></p>
<p><strong>Python:</strong> <a href="http://python.org/">http://python.org/</a>.  Documentation element exists in the
menu.  I click it.  They offer me a nice tutorial, so I’ll check it out.
I scan through the Table of Contents and I see a chapter called Defining
Functions.  Great, it will work.  Now I go back to the ToC and, because
this is a tutorial rather than a reference, and I can see chapter <em>7.1:
Fancier output formatting</em>.  I want to have %s as in other languages, so
I skip this one and see <em>Old string formatting</em>, which uses the %s.  Now,
assuming they indented the code for purpose because there are no braces,
I can write:
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">writeStuff</span><span class="p">(</span><span class="n">text</span><span class="p">):</span><br />    <span class="k">print</span> <span class="s">&quot;Input: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">text</span><br /><span class="n">writeStuff</span><span class="p">(</span><span class="s">&quot;some stuff to print&quot;</span><span class="p">)</span><br /></pre></div><br /><figcaption>Python</figcaption></figure></div></p>
<p>All of them work and output <code>Input: some stuff to print</code> followed by a
newline.  The original C example had 8 lines.  Perl made it in 5, <span class="caps">PHP</span>
in 6 (or 4 if you willn’t count the <span class="caps">PHP</span> tags), Python used only&nbsp;3.</p>
<p>Which documentation is the most <span class="caps">HUMAN</span>-friendly?  Python’s.  Which is the
worst?&nbsp;Perl’s.</p>
<h2>Nothing is&nbsp;flawless</h2>
<p>Everything has some flaws.  What is it in Python, then?  <a href="http://wiki.python.org/moin/Python2orPython3" title="Py2K or Py3K?">Existence of two
releases.</a>  Most distros and projects use Py2K, while some of them
offer Py3K (or both.)  The <a href="https://github.com/Kwpolska/kru/tree/master/pkgbuilder" title="kru/pkgbuilder">PKGBUILDer</a> is in Py3K, because it requires
<code>pyalpm</code> and the <code>AUR</code> module (I could rewrite the <span class="caps">AUR</span> module in Py2K, but
pyalpm is much harder to modify.  <span class="caps">UPDATE</span> 2012-08-04: it was re-implemented by me several releases ago, in version 2.1.0, released over a month after this post)  My other projects (like KWDv2, another
rewrite, this time with minimal changes and 30% less code or my first ever
Python project, trash.py, a partial <span class="caps">XDG</span> trash standard implementation) use
the old Py2K (usually v2.6, because I need compatibility with my shell&nbsp;server.)</p>
<p>I would rewrite this blog into <a href="https://www.djangoproject.com/" title="Django">Django</a> if I’d <em>own</em> a <span class="caps">VPS</span> or
a dedicated server. (update 2011-10-20: this blog is now based on hyde,
jekyll’s evil twin in&nbsp;Python.)</p></div>
<footer><a href="#comments" title="Comments for ">comments</a></footer>
</article>

<article>
<header>
<h1 id="comments">Comments</h1>
You should leave one NOW.
</header>
<div class="text">
<div id="disqus_thread">
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kwpolska'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    var disqus_identifier = '/blog/2011-08-03-i-love-python.html';
    var disqus_url = 'http://kwpolska.tk/blog/2011-08-03-i-love-python.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script> <noscript>Please enable JavaScript to view the <a href=
"http://disqus.com/?ref_noscript">comments powered by
Disqus.</a></noscript></div></div>
<footer>Comments under this post are brought to you by
DISQUS.</footer>
</article>
<!--TODO

<h1 class="title">
    <a href="/blog/2011-08-03-i-love-python.html">
        I love Python!
    </a>
</h1>
<time datetime="2011-08-03">
    Posted: Wed, 03 Aug 2011
</time>

<ul class="tags clear">
<li>
    <a class="small" href="/blog/tags/python.html">
        python
    </a>
</li>
<li>
    <a class="small" href="/blog/tags/programming.html">
        programming
    </a>
</li>
<li>
    <a class="small" href="/blog/tags/projects.html">
        projects
    </a>
</li>
</ul>
</article>    </section>
        <footer>served by nginx, generated by
    hyde<br>copyright&nbsp;©&nbsp;2009-2013&nbsp;Kwpolska<br><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">CC BY-NC-ND</a></footer>
    <!-- Javascript at the bottom for fast page loading -->
        <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="http://kwcdn.tk/js/libs/jquery-1.7.1.min.js">\x3C/script>')</script>
    
        <script type="text/javascript" src="http://kwcdn.tk/fancybox/lib/jquery.mousewheel-3.0.6.pack.js"></script>
    <script type="text/javascript" src="http://kwcdn.tk/fancybox/source/jquery.fancybox.pack.js?v=2.0.5"></script>
    <script type="text/javascript" src="http://kwcdn.tk/fancybox/source/helpers/jquery.fancybox-buttons.js?v=2.0.5"></script>
    <script type="text/javascript" src="http://kwcdn.tk/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=2.0.5"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $(".fancybox").fancybox({ helpers: { buttons: { position: 'top' }, thumbs: { width: 100, height: 100 } } });
        });
    </script>
    
    
    

    <!--[if lt IE 7 ]>
      <script src="js/libs/dd_belatedpng.js"></script>
      <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
    <![endif]-->

        <!-- asynchronous google analytics: mathiasbynens.be/notes/async-analytics-snippet
       change the UA-XXXXX-X to be your site's ID -->
<script>
    var _gaq = [['_setAccount', 'UA-11937989-1'], ['_trackPageview']];
    (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
    })(document, 'script');
</script>

<!-- Internet Defense League. -->
<script type="text/javascript">
    window._idl = {};
    _idl.variant = "banner";
    (function() {
        var idl = document.createElement('script');
        idl.type = 'text/javascript';
        idl.async = true;
        idl.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'banner');
        document.getElementsByTagName('body')[0].appendChild(idl);
    })();
</script>    
</body>
</html>