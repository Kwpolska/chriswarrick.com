.. code-block:: python

    #!/usr/bin/env python
    # -*- coding: utf-8 -*-

    ########################################
    # Configuration, please edit
    ########################################

    # post_pages contains (wildcard, destination, template, use_in_feed) tuples.
    #
    # The wildcard is used to generate a list of reSt source files (whatever/thing.txt)
    # That fragment must have an associated metadata file (whatever/thing.meta),
    # and opcionally translated files (example for spanish, with code "es"):
    #     whatever/thing.txt.es and whatever/thing.meta.es
    #
    # From those files, a set of HTML fragment files will be generated:
    # whatever/thing.html (and maybe whatever/thing.html.es)
    #
    # These files are combinated with the template to produce rendered
    # pages, which will be placed at
    # output / TRANSLATIONS[lang] / destination / pagename.html
    #
    # where "pagename" is specified in the metadata file.
    #
    # if use_in_feed is True, then those posts will be added to the site's
    # rss feeds.
    #

    post_pages = (
        ("posts/*.txt", "weblog/posts", "post.tmpl", True),
        ("stories/*.txt", "stories", "post.tmpl", False),
    )

    # What is the default language?

    DEFAULT_LANG = "en"

    # What languages do you have?
    # If a specific post is not translated to a language, then the version
    # in the default language will be shown instead.
    # The format is {"translationcode" : "path/to/translation" }
    # the path will be used as a prefix for the generated pages location

    TRANSLATIONS = {
        "en": "",
        "es": "tr/es",
        }

    # Paths for different autogenerated bits. These are combined with the translation
    # paths.

    # Final locations are:
    # output / TRANSLATION[lang] / TAG_PATH / index.html (list of tags)
    # output / TRANSLATION[lang] / TAG_PATH / tag.html (list of posts for a tag)
    # output / TRANSLATION[lang] / TAG_PATH / tag.xml (RSS feed for a tag)
    TAG_PATH = "categories"
    # Final location is output / TRANSLATION[lang] / INDEX_PATH / index-*.html
    INDEX_PATH = "weblog"
    # Final locations for the archives are:
    # output / TRANSLATION[lang] / ARCHIVE_PATH / archive.html
    # output / TRANSLATION[lang] / ARCHIVE_PATH / YEAR / index.html
    ARCHIVE_PATH = "weblog"
    # Final locations are:
    # output / TRANSLATION[lang] / RSS_PATH / rss.xml
    RSS_PATH = "weblog"

    # A list of redirection tuples, [("foo/from.html", "/bar/to.html")].
    #
    # A HTML file will be created in output/foo/from.html that redirects
    # to the "/bar/to.html" URL. notice that the "from" side MUST be a
    # relative URL.
    #
    # If you don't need any of these, just set to []

    REDIRECTIONS = [("index.html", "/weblog/index.html")]

    # Commands to execute to deploy. Can be anything, for example,
    # you may use rsync:
    # "rsync -rav output/* joe@my.site:/srv/www/site"
    # And then do a backup, or ping pingomatic.
    # To do manual deployment, set it to []
    DEPLOY_COMMANDS = [
    r'rsync -rav --delete output/* ralsina@lateral.netmanagers.com.ar:/srv/www/lateral',
    r'rdiff-backup output ~/bartleblog-backup',
    r"links -dump 'http://www.twingly.com/ping2?url=lateral.netmanagers.com.ar' > /dev/null",
    r"links -dump 'http://pingomatic.com/ping/?title=Lateral+Opinion&blogurl=http%%3A%%2F%%2Flateral.netmanagers.com.ar&rssurl=http%%3A%%2F%%2F&chk_weblogscom=on&chk_blogs=on&chk_technorati=on&chk_feedburner=on&chk_syndic8=on&chk_newsgator=on&chk_myyahoo=on&chk_pubsubcom=on&chk_blogdigger=on&chk_blogrolling=on&chk_blogstreet=on&chk_moreover=on&chk_weblogalot=on&chk_icerocket=on&chk_newsisfree=on&chk_topicexchange=on&chk_google=on&chk_tailrank=on&chk_bloglines=on&chk_aiderss=on&chk_skygrid=on&chk_bitacoras=on&chk_collecta=on' > /dev/null",
    r'rsync -rav ~/bartleblog-backup/* ralsina@netmanagers.com.ar:bartleblog-backup',
    ]

    ##############################################################################
    # Image Gallery Options
    ##############################################################################

    # Galleries are folders in galleries/
    # Final location of galleries will be output / GALLERY_PATH / gallery_name
    GALLERY_PATH = "galleries"
    THUMBNAIL_SIZE = 256


    ##############################################################################
    # HTML fragments and diverse things that are used by the templates
    ##############################################################################

    # Data about this site
    BLOG_TITLE = "Lateral Opinion"
    BLOG_URL = "http://lateral.netmanagers.com.ar"
    BLOG_EMAIL = "ralsina@kde.org"
    BLOG_DESCRIPTION = "I write free software. I have an opinion on almost "\
        "everything. I write quickly. A weblog was inevitable."

    # A HTML fragment describing the license, for the sidebar.
    # I recomment using Creative Commons' wizard: http://creativecommons.org/choose/
    LICENSE = """
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
        <img alt="Creative Commons License" style="border-width:0; margin-bottom:12px;"
        src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>"""

    # A small copyright notice for the page footer
    CONTENT_FOOTER = u"Contents Â© 2000-2012 Roberto Alsina <ralsina@kde.org>"

    # To enable comments via Disqus, you need to create a forum at http://disqus.com,
    # and set DISQUS_FORUM to the short name you selected.
    # If you want to disable comments, set it to False.
    DISQUS_FORUM = "lateralopinion"

    # RSS_LINK is a HTML fragment to link the RSS or Atom feeds. If set to None,
    # the base.tmpl will use the feed Nikola generates. However, you may want to
    # change it for a feedburner feed or something else.

    #RSS_LINK = """
        #<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/LateralOpinion">
        #<link rel="alternate" type="application/rss+xml" title="RSS en Espanol" href="http://feeds.feedburner.com/LateralOpinionEsp">
    #"""
    RSS_LINK = None

    # A search form to search this site, for the sidebar. You can use a google
    # custom search (http://www.google.com/cse/)
    # Or a duckduckgo search: https://duckduckgo.com/search_box.html
    # This example should work for pretty much any site we generate.
    SEARCH_FORM = """
        <!-- Custom search -->
        <form method="get" id="search" action="http://duckduckgo.com/">
            <input type="hidden" name="sites" value="%s"/>
            <input type="hidden" name="k8" value="#444444"/>
            <input type="hidden" name="k9" value="#D51920"/>
            <input type="hidden" name="kt" value="h"/>
            <input type="text" name="q" maxlength="255" placeholder="Search&hellip;" class="span2" style="margin-top: 4px;"/>
            <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
        </form>
        <!-- End of custom search -->
    """ % BLOG_URL

    # Google analytics or whatever else you use. Added to the bottom of <body>
    # in the default template (base.tmpl).
    ANALYTICS = """
            <!-- Start of StatCounter Code -->
            <script type="text/javascript">
            sc_project=1436219;
            sc_invisible=1;
            sc_partition=13;
            sc_security="b91cd70a";
            </script>
            <script type="text/javascript" src="http://www.statcounter.com/counter/counter.js"></script>
            <noscript>
                <div class="statcounter">
                <a title="free hit counters" href="http://www.statcounter.com/" target="_blank"><img class="statcounter" src="http://c14.statcounter.com/1436219/0/b91cd70a/1/" alt="free hit counters" ></a>
                </div>
            </noscript>
            <!-- End of StatCounter Code -->
            <!-- Start of Google Analytics -->
                <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
                </script>
                <script type="text/javascript">
                _uacct = "UA-1639287-1";
                urchinTracker();
                </script>
            <!-- End of Google Analytics -->
        """

    # Put in global_context things you want available on all your templates.
    # It can be anything, data, functions, modules, etc.
    GLOBAL_CONTEXT = {
        'analytics': ANALYTICS,
        'blog_title': BLOG_TITLE,
        'blog_url': BLOG_URL,
        'translations': TRANSLATIONS,
        'license': LICENSE,
        'search_form': SEARCH_FORM,
        'disqus_forum': DISQUS_FORUM,
        'content_footer': CONTENT_FOOTER,
        'rss_path': RSS_PATH,
        'rss_link': RSS_LINK,
        # Locale-dependent links for the sidebar
        'sidebar_links': {
            'en': (
                ('/archive.html', 'Archives'),
                ('/categories/index.html', 'Tags'),
                ('http://nikola.ralsina.com.ar', 'Powered by Nikola!'),
                ),
            'es': (
                ('/archive.html', 'Archivos'),
                ('/categories/index.html', 'Tags'),
                ('http://nikola.ralsina.com.ar', 'Powered by Nikola!'),
                )
            }
        }

    # Sorry, this is magic. It just is.
    execfile("nikola/nikola.py")
    if __name__ == "__main__":
        nikola_main()
    # End of magic.

    # To disable tasks, just delete them. For example, if you really
    # do not want to do a sitemap:
    # del(task_sitemap)

    # You can also replace the provided tasks with your own by redefining them
    # below this point. For a list of current tasks, run "doit list", and for
    # help on their syntax, refer to the doit handbook at http://pydoit.org
