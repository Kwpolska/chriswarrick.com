<!DOCTYPE html>
<html lang="pl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A short how-to on installing MPD on Windows.">
    <meta name="author" content="Chris “Kwpolska” Warrick">
    <title>Adventures in Windows: Music Player Daemon — Chris Warrick’s Blog</title>
    
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../../../assets/css/all.css" rel="stylesheet" type="text/css">
        <!--
        <link href="/assets/css/jquery.fancybox.css" rel="stylesheet" media="screen">
        <link href="/assets/css/jquery.fancybox-thumbs.css" rel="stylesheet" media="screen">
        <link href="/assets/css/jquery.fancybox-buttons.css" rel="stylesheet" media="screen">
        -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
                <link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../../../../../rss.xml">
                <link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../../../../rss.xml">
            <link rel="icon" href="../../../../../../favicon.ico" sizes="16x16">

    



    
</head>
<body>
<!--[if lt IE 7]>
<div class="ie6">
<p>Let IE 6&nbsp;die.</p>
<small><em>(you were meant to be at Kw’s Blog)</em></small>
</div>
<div style="display: none !important;">
<![endif]-->
<!-- Menubar -->

<nav class="navbar navbar-kw navbar-fixed-top" role="navigation">
<div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#kw-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://chriswarrick.com/"><img src="../../../../../../assets/img/logo.png" alt="[Kw]"> Chris Warrick’s Blog</a>
    </div>
    <div class="collapse navbar-collapse" id="kw-navbar-collapse">
        <ul class="nav navbar-nav">
            
                <li>
<a href="../../../../">Archiwum</a>
                </li>
<li>
<a href="../../../../tags/">Tagi</a>
                </li>
<li>
<a href="../../../../../contact/">Kontakt</a>
                </li>
<li>
<a href="../../../../../projects/">Projekty</a>
                </li>
<li>
<a href="../../../../../search/">Szukaj</a>

        </li>
</ul>

        <ul class="nav navbar-nav navbar-right">
            
                <li>
            </li>
<li><a href="../../../../../../" rel="alternate" hreflang="en">English</a></li>

            
        </ul>
    </div>
<!-- /.navbar-collapse -->
    </div>
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
    <article class="postbox" id="article">
    <header class="page-header">
    <h1>
<a href=".">Adventures in Windows: Music Player Daemon</a>
    <br>
    <small>
        <time class="published" datetime="2013-09-01T19:15:00+02:00">2013-09-01 19:15</time><br>
        
            <a class="tag" href="../../../../tags/windows/"><span class="badge badge-tag">Windows</span></a>
            <a class="tag" href="../../../../tags/mpd/"><span class="badge badge-tag">mpd</span></a>

        


    </small>
    </h1>
    </header>
    <div class="text">
    
    <div class="lead">
        <div>
<p>Re­cen­tly, I had to re­in­stall Win­dows.  One of the things I had to set up
was MPD, the  <a class="reference external" href="http://musicpd.org/">Mu­sic Play­er Da­emon</a>.</p> 
 <p>This is a short gu­ide on how to do&nbsp;this.</p> 
 
        </div>
        </div>
    
<div class="section" id="step-1-get-mpd-and-mpc">
<h2>Step 1: get MPD and&nbsp;MPC</h2>
<p>Do­wn­lo­ad  <a class="reference external" href="http://musicpd.org/download/win32/">MPD</a>  (<tt class="docutils literal"><span class="pre">mpd-x.y­­.z-wi­­n32.zip</span></tt>, re­pla­cing  <tt class="docutils literal">x.y­.z</tt>  with wha­te­ver is the cur­rent ava­ila­ble ver­sion of this fi­le) and  <a class="reference external" href="http://musicpd.org/download/mpc/">MPC</a>  (<tt class="docutils literal"><span class="pre">mpc-x.y­­-wi­­n32-zip</span></tt>).  I sug­gest usin­g
 <tt class="docutils literal"><span class="pre">C:\mpd</span></tt>  as your ba­se path.  This post as­su­mes you ac­tu­al­ly used thi­s&nbsp;va­lu­e.</p> 
 <p>Put eve­ry­thing from the  <tt class="docutils literal"><span class="pre">/m­p­d-x.y­­.z-wi­­n32/bi­­n/</span></tt>  di­rec­to­ry of the
 <tt class="docutils literal"><span class="pre">mpd-x.y­­.z-wi­­n32.zip</span></tt>  ar­chi­ve in­to your ba­se path (<tt class="docutils literal"><span class="pre">C:\mpd</span></tt>).  Fro­m
the  <tt class="docutils literal"><span class="pre">mpc-x.y­­-wi­­n32.zip</span></tt>  ar­chi­ve, ta­ke  <tt class="docutils literal">mpc.e­xe</tt>  an­d
 <tt class="docutils literal"><span class="pre">libmpd­c­lie­n­t-2.dll</span></tt>  and put them&nbsp;the­re.</p> 
 </div>
<div class="section" id="step-1-5-optional-but-recommended-get-gmpc">
<h2>Step 1.5 (optional, but recommended): get&nbsp;GMPC</h2>
<p>If you want a ni­ce, easy, gra­phi­cal in­ter­fa­ce for MPD, you sho­uld in­stal­l
GMP­C, the  <a class="reference external" href="http://gmpclient.org/">Gno­me Mu­sic Play­er Client</a>.  The in­stal­la­tion is ve­ry­
stra­ight­for­war­d, so I’ll le­ave the de­ta­ils&nbsp;out.</p> 
 </div>
<div class="section" id="step-2-create-a-config-file">
<h2>Step 2: create a config&nbsp;file</h2>
<p>You ne­ed to cre­ate a con­fi­gu­ra­tion fi­le.  A sam­ple one is in­c­lu­ded in
 <tt class="docutils literal"><span class="pre">/m­p­d-x.y­­.z-wi­­n32/do­­c/mp­d­conf.sa­m­ple</span></tt>.  Use the  <tt class="docutils literal">winmm</tt>  out­put&nbsp;ty­pe.</p> 
 <p><strong>War­nin­g:</strong>  Win­dows No­te­pad will not wor­k, be­cau­se it do­es not un­der­stan­d
U­ni­x-sty­le li­ne en­dings (<tt class="docutils literal">\n</tt>  in­ste­ad of  <tt class="docutils literal">\r\n</tt>).</p> 
 <p>For  <tt class="docutils literal">db_fi­le</tt>  and  <tt class="docutils literal">lo­g_fi­le</tt>, I re­com­mend a fi­le in  <tt class="docutils literal"><span class="pre">C:\m­p­d\da­­ta\</span></tt>.
I al­so re­com­mend sa­ving your con­fig as  <tt class="docutils literal"><span class="pre">C:\m­p­d\da­­ta­­\mpd.conf</span></tt>  (in fac­t,
this is yet ano­ther as­sump­tion we ma­ke in this&nbsp;gu­ide)</p> 
 <div class="section" id="multi-boot-corner-keep-parts-of-the-config-the-same">
<h3>Multi Boot Corner: keep parts of the config the&nbsp;same</h3>
<p>Be­cau­se I ha­ve a du­al-bo­ot sys­te­m, the­re are so­me di­rec­tions fo­r
mul­ti­-bo­ot&nbsp;users.</p> 
 <p>Your  <tt class="docutils literal">mu­si­c_di­rec­to­ry</tt>,  <tt class="docutils literal">play­li­st_di­rec­to­ry</tt>  and  <tt class="docutils literal">sta­te­_fi­le</tt>   <em>must</em>  be the sa­me on all the sys­tems in your mul­ti­-bo­ot envi­ron­ment.  It is re­com­men­ded to use the sa­me  <tt class="docutils literal">db_fi­le</tt>.</p> 
 <p>Your au­dio out­puts must ha­ve the sa­me&nbsp;na­mes.</p> 
 </div>
</div>
<div class="section" id="step-3-test-your-configuration">
<h2>Step 3: test your&nbsp;configuration</h2>
<p>Open up two Com­mand Prompt win­dows.  In the first one,&nbsp;ru­n:</p> 
 <pre class="literal-block">
cd C:\mpd
mpd data\mpd.conf
</pre>
<p>If you see this&nbsp;mes­sa­ge:</p> 
 <pre class="literal-block">
Failed to load database: Failed to open database file "&lt;name&gt;": No such file or directory
</pre>
<p>then you can igno­re it.  If you see ano­ther mes­sa­ge, fix wha­te­ver it
sta­tes.  You may al­so use  <tt class="docutils literal"><span class="pre">--st­do­­ut</span></tt>  or  <tt class="docutils literal"><span class="pre">-v</span></tt>  to get mo­re out­pu­t&nbsp;mes­sa­ges.</p> 
 <div class="section" id="multi-boot-path">
<h3>Multi Boot&nbsp;path</h3>
<p>If you fol­lo­wed the Mul­ti Bo­ot in­struc­tions cor­rec­tly, you mi­ght be­
he­aring mu­sic al­re­ady.  If you do no­t, use your other Com­mand Prompt win­dow an­d&nbsp;ru­n:</p> 
 <pre class="literal-block">
cd C:\mpd
mpc play
</pre>
<p>If it out­puts the na­me of a son­g, a  <tt class="docutils literal">[play­in­g]</tt>  li­ne, all is well (if you
can­not he­ar mu­si­c, unmu­te your&nbsp;au­dio­).</p> 
 <p>If you do not ha­ve a mpd da­ta­ba­se yet, use the  <em>Sin­gle path</em>.</p> 
 <p><strong>If MPD work­s, press Ctr­l+C in the win­dow whe­re you ran &#8220;mp­d&nbsp;da­tampd.conf.&#8220;</strong></p> 
 </div>
<div class="section" id="single-path">
<h3>Single&nbsp;path</h3>
<p>In the other Com­mand Prompt win­do­w,&nbsp;ru­n:</p> 
 <pre class="literal-block">
cd C:\mpd
mpc update
mpc add "FILENAME"
mpc play
</pre>
<p>(FI­LE­NA­ME sho­uld be a na­me of a fi­le in your mu­sic li­bra­ry.  Ma­ke su­re to­
ke­ep the&nbsp;qu­otes.)</p> 
 <p>And now you sho­uld he­ar mu­sic.  If you do no­t, try to unmu­te, then re­ad
the out­put of  <tt class="docutils literal">mpc</tt>  and try to fix&nbsp;it.</p> 
 <p><strong>If MPD work­s, press Ctr­l+C in the win­dow whe­re you ran &#8220;mp­d&nbsp;da­tampd.conf.&#8220;</strong></p> 
 </div>
</div>
<div class="section" id="step-3-5-test-gmpc">
<h2>Step 3.5: test&nbsp;GMPC</h2>
<p>Start the Gno­me Mu­sic Play­er Client.  Click  <em>For­ward</em>,  <em>Con­nect</em>,
 <em>For­ward</em>,  <em>Clo­se</em>  and all sho­uld be&nbsp;well.</p> 
 </div>
<div class="section" id="step-4-create-a-windows-service">
<h2>Step 4: create a Windows&nbsp;service</h2>
<p>In or­der to run the da­emon in the  <em>da­emon</em>  mo­de, i.e. hid­de­n, you ne­ed to­
per­form so­me extra steps.  You can­not use Star­tup in the Start Me­nu, you
al­so can­not use the Run re­gi­stry keys (this re­sults in an ugly Com­mand Promp­t
win­dow run­ning all the ti­me that you can­not clo­se or hi­de in the&nbsp;tray­).</p> 
 <p>How to so­lve this pro­ble­m?  Just run it as a Win­dows se­rvi­ce.  That is
ve­ry easy to&nbsp;do.</p> 
 <p>Open a Com­mand Prompt win­dow as an ad­mi­ni­stra­tor (ri­gh­t-c­lick on  <em>Com­man­d
Prompt</em>  in the Start Me­nu­/on the Start Scre­en and cho­ose  <em>Run as ad­mi­ni­stra­tor</em>).</p> 
 <p>In that win­do­w, run one ve­ry easy com­mand (ma­ke su­re to co­py­-pa­ste thi­s&nbsp;e­xac­tly­!):</p> 
 <pre class="literal-block">
sc create mpd binPath= "c:\mpd\mpd.exe c:\mpd\data\mpd.conf"
</pre>
<p>If it&nbsp;sa­id:</p> 
 <ul class="simple">
<li>
<tt class="docutils literal">[SC] Cre­ate­Se­rvi­ce SUC­CESS</tt>, con­gra­tu­la­tions — you are al­most do­ne!  Skip down to  <em>Se­rvi­ce&nbsp;con­fi­gu­ra­tion.</em>
</li> 
 <li>
<tt class="docutils literal">[SC] Open­SC­Ma­na­ger FA­ILED 5: Ac­cess is de­nied.</tt>, you ne­ed an
 <strong>Ad­mi­ni­stra­tor</strong>  Com­mand&nbsp;Prompt.</li> 
 <li>so­me­thing el­se, check your spel­ling or Go­ogle the&nbsp;er­ror.</li> 
 </ul>
<div class="section" id="service-configuration">
<h3>Service&nbsp;configuration</h3>
<p>That is the easiest part of this&nbsp;gu­ide.</p> 
 <p>Start the  <em>Se­rvi­ces</em>  con­so­le.  You can get to it by ty­pin­g
 <tt class="docutils literal">se­rvi­ces.msc</tt>  in­to the Start Me­nu­/Scre­en se­arch (<em>Run</em>  for XP or&nbsp;ol­de­r).</p> 
 <p>In the to­ol, find the  <tt class="docutils literal">mpd</tt>  se­rvi­ce.  Go to the  <em>Log On</em>  ta­b, cho­ose
 <em>This ac­co­un­t:</em>  and en­ter your cre­den­tials the­re.  Hit  <em>Ap­ply</em>  and go to­
the  <em>Ge­ne­ral</em>  ta­b, on which you sho­uld cho­ose the  <em>Star­tup ty­pe</em>  to be
 <em>Au­to­ma­tic (De­lay­ed Star­t)</em>.  Fi­nish by pres­sing  <em>Start</em>.  MPD sho­uld be­
run­ning and con­fi­gu­red pro­per­ly.  You can now hit  <em>OK</em>  and clo­se the
 <em>Se­rvi­ces</em>  win­do­w, along with the com­mand prompts you ha­ve&nbsp;open.</p> 
 <p><strong>War­nin­g:</strong>  if you chan­ge your Win­dows pas­swor­d, you ne­ed to chan­ge your
pas­sword in the  <em>Se­rvi­ces</em>  con­so­le as&nbsp;wel­l!</p> 
 </div>
<div class="section" id="just-in-case-uninstalling-the-service">
<h3>Just in case: uninstalling the&nbsp;service</h3>
<p>First of­f, stop the se­rvi­ce (in the Se­rvi­ces con­so­le or thro­ugh  <tt class="docutils literal">sc sto­p
mpd</tt>  in an ad­mi­ni­stra­tor com­mand&nbsp;promp­t).</p> 
 <p>The­n, run  <tt class="docutils literal">sc de­le­te mpd</tt>.</p> 
 </div>
</div>
</div>
    </article>
</div>

    

    <footer class="post-footer"><a href="#disqus_thread">comments</a></footer>
    

    <div class="comments">
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="kwpolska",
            disqus_url="https://chriswarrick.com/pl/blog/2013/09/01/mpd-on-windows/",
        disqus_title="Adventures in Windows: Music Player Daemon",
        disqus_identifier="cache/posts/2013/09/01/mpd-on-windows.html",
        disqus_config = function () {
            this.language = "pl";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>

        </div>
        <!--End of body content-->

        <footer class="site-footer">
            <p><a href="../../../../../cookies/">ta strona używa ciasteczek.</a><br>
korzystając z tej strony, akceptujesz naszą politykę&nbsp;ciasteczek.
</p>
<p>
powered by <strong><a href="https://getnikola.com/">Nikola</a></strong>, <a href="http://nginx.org/">nginx</a> and <a href="https://www.digitalocean.com/">DigitalOcean</a><br>
copyright © 2009–2014 <a href="../../../../../contact/">Chris “Kwpolska” Warrick</a><br> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">CC
BY-NC-ND</a>, unless stated&nbsp;otherwise</p>
        </footer>
    </div>



            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
            <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
            <script src="../../../../../../assets/js/jquery.colorbox-min.js" type="text/javascript"></script>

    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>

<script src="../../../../../../assets/js/kw.js"></script>
<!--
<script src="/assets/js/jquery.mousewheel-3.0.6.pack.js"></script>
<script src="/assets/js/jquery.fancybox.pack.js"></script>
<script src="/assets/js/jquery.fancybox-buttons.js"></script>
<script src="/assets/js/jquery.fancybox-media.js"></script>
<script src="/assets/js/jquery.fancybox-thumbs.js"></script>
-->
<!--[if lt IE 7]>
</div>
<![endif]-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11937989-1', 'chriswarrick.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>

</body>
</html>
