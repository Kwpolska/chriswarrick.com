<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A tutorial to deploy Python Web Applications to popular Linux systems.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deploying Python Web Applications with nginx and uWSGI Emperor | Chris Warrick</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css" integrity="sha256-FqCzNnnyXl5HxHMdb+RQ/RV/X7fqfPcQYy+G2gFL3Xk=" crossorigin="anonymous">
<noscript>
        <link href="/assets/css/all-dark.css" rel="stylesheet" type="text/css" id="kw-all-css">
</noscript>
<script type="text/javascript">var colorScheme=document.cookie.replace(/(?:(?:^|.*;\s*)colorScheme\s*\=\s*([^;]*).*$)|^.*$/,"$1");if(colorScheme==="light"){document.write('<link href="/assets/css/all.css" rel="stylesheet" type="text/css" id="kw-all-css">');}else{colorScheme="dark";document.write('<link href="/assets/css/all-dark.css" rel="stylesheet" type="text/css" id="kw-all-css">');}var colorSchemesEnabled=true;</script><link href="https://fonts.googleapis.com/css?family=EB+Garamond:400,400i,700%7CSource+Sans+Pro&amp;subset=latin-ext" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<meta name="theme-color" content="#00aadd">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="/rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="/pl/rss.xml">
<link rel="canonical" href="https://chriswarrick.com/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/">
<link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="16x16 32x32 48x48 64x64 128x128 256x256">
<link rel="icon" type="image/png" href="/assets/img/logo512.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><meta name="description" itemprop="description" content="A tutorial to deploy Python Web Applications to popular Linux systems.">
<meta name="author" content="Chris Warrick">
<link rel="prev" href="/blog/2015/12/27/windows-10-november-upgrade-windows-as-a-dis-service/" title="Windows 10 November Upgrade: Windows as a (Dis-)service" type="text/html">
<link rel="next" href="/blog/2016/05/27/code-writing-code-python-and-vim/" title="Code writing code: Python and Vim as development aids" type="text/html">
<meta property="og:site_name" content="Chris Warrick">
<meta property="og:title" content="Deploying Python Web Applications with nginx and uWSGI Emperor">
<meta property="og:url" content="https://chriswarrick.com/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/">
<meta property="og:description" content="A tutorial to deploy Python Web Applications to popular Linux systems.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-02-10T15:00:00+01:00">
<meta property="article:tag" content="Ansible">
<meta property="article:tag" content="Arch Linux">
<meta property="article:tag" content="Django">
<meta property="article:tag" content="Flask">
<meta property="article:tag" content="guide">
<meta property="article:tag" content="Internet">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="nginx">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="systemd">
<meta property="article:tag" content="uWSGI">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@Kwpolska">
<link rel="alternate" hreflang="pl" href="/pl/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md navbar-kw bg-dark static-top mb-4"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://chriswarrick.com/">
            <img src="/assets/img/logo.png" srcset="/assets/img/logo2x.png 2x" alt="Chris Warrick" id="logo"><span id="blog-title">Chris Warrick</span>
        </a>
        <div>
        <button class="navbar-toggler mr-2" id="color-changer-mobile" type="button" aria-label="Change color scheme">
            <span class="color-changer"></span>
        </button>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        </div>
        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="/blog/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="/blog/tags/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="/contact/" class="nav-link">Contact</a>
                </li>
<li class="nav-item">
<a href="/brand/" class="nav-link">Brand</a>
                </li>
<li class="nav-item">
<a href="/kwbot/" class="nav-link">KwBot</a>
                </li>
<li class="nav-item">
<a href="/projects/" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="/guides/" class="nav-link">Guides</a>
                </li>
<li class="nav-item">
<a href="/search/" class="nav-link">Search</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li>            </li>
<li class="nav-item"><a href="https://chriswarrick.com/pl/" rel="alternate" hreflang="pl" class="nav-link">Polski</a></li>

                
                <li class="nav-item" id="color-changer-menu">
<a href="#" class="nav-link" id="color-changer-btn">
                <div class="color-changer"></div>
                <span id="color-changer-text"></span>
                </a>
                </li>
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        <div id="cookiebox"></div>
<article class="post-text h-entry hentry postpage postbox" itemscope="itemscope" itemtype="http://schema.org/Article"><header class="page-header"><h1 class="p-name entry-title" itemprop="headline name">
    <a href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/" class="u-url">Deploying Python Web Applications with nginx and uWSGI Emperor</a>
    </h1>

    <div class="metadata">
<a href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/" rel="bookmark" class="u-published"><time class="published dt-published" datetime="2016-02-10T15:00:00+01:00" itemprop="datePublished" title="10 February 2016 at 15:00">10 February 2016 at 15:00</time><time class="updated dt-updated" datetime="2018-04-16T10:00:00+02:00" title="updated 16 April 2018 at 10:00"> (updated 16 April 2018 at 10:00)</time></a>
        <ul itemprop="keywords" class="tags post-bubbles list-inline">
<li class="category-bubble"><a href="/blog/tags/cat_python/" style="background-color: #ffd43b">Python</a></li>
           <li><a class="tag p-category" href="/blog/tags/ansible/" rel="tag">Ansible</a></li>
           <li><a class="tag p-category" href="/blog/tags/arch-linux/" rel="tag">Arch Linux</a></li>
           <li><a class="tag p-category" href="/blog/tags/django/" rel="tag">Django</a></li>
           <li><a class="tag p-category" href="/blog/tags/flask/" rel="tag">Flask</a></li>
           <li><a class="tag p-category" href="/blog/tags/guide/" rel="tag">guide</a></li>
           <li><a class="tag p-category" href="/blog/tags/internet/" rel="tag">Internet</a></li>
           <li><a class="tag p-category" href="/blog/tags/linux/" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="/blog/tags/nginx/" rel="tag">nginx</a></li>
           <li><a class="tag p-category" href="/blog/tags/python/" rel="tag">Python</a></li>
           <li><a class="tag p-category" href="/blog/tags/systemd/" rel="tag">systemd</a></li>
           <li><a class="tag p-category" href="/blog/tags/uwsgi/" rel="tag">uWSGI</a></li>
        </ul>
<span class="shortlink-bubble"><a href="https://go.chriswarrick.com/pyweb" title="Short link to this article (go.chriswarrick.com/pyweb)"><i class="fa fa-link"></i> pyweb</a></span>        
<p class="guide-header">A <a href="/guides/">guide</a> about <span class="guide-topic">Python, web apps</span> for <span class="guide-platform">Ubuntu, Debian, Fedora, CentOS, Arch Linux</span></p>    </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div class="lead"><div>
<p>You’ve just written a great Python web application. Now, you want to share it with the world. In order to do that, you need a server, and some software to do that for you.</p>
<p>The following is a comprehensive guide on how to accomplish that, on multiple Linux-based operating systems, using nginx and uWSGI Emperor. It doesn’t force you to use any specific web framework — Flask, Django, Pyramid, Bottle will all work. Written for Ubuntu, Debian, Fedora, CentOS and Arch Linux (should be helpful for other systems, too). Now with an Ansible Playbook.</p>
<p><em>Revision 5a (2018-04-16): Better explain why we disable emperor-tyrant mode</em></p>
</div></div>
<p>For easy linking, I set up some aliases: <a class="reference external" href="https://go.chriswarrick.com/pyweb">https://go.chriswarrick.com/pyweb</a> and <a class="reference external" href="https://go.chriswarrick.com/uwsgi-tut">https://go.chriswarrick.com/uwsgi-tut</a> (powered by a Django web application, deployed with nginx and uWSGI!).</p>
<div class="contents alert alert-primary float-md-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#prerequisites" id="id9">Prerequisites</a></li>
<li>
<a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#automate-everything-ansible-playbook" id="id10">Automate everything: Ansible Playbook</a><ul>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#how-to-use" id="id11">How to use</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#the-manual-guide" id="id12">The manual guide</a><ul>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#getting-started" id="id13">Getting started</a></li>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#preparing-your-application" id="id14">Preparing your application</a></li>
<li>
<a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#configuring-uwsgi-and-nginx" id="id15">Configuring uWSGI and nginx</a><ul>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#uwsgi-configuration" id="id16">uWSGI configuration</a></li>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#nginx-configuration" id="id17">nginx configuration</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#service-setup" id="id18">Service setup</a><ul>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#for-arch-linux" id="id19">For Arch Linux</a></li>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#for-fedora-and-centos" id="id20">For Fedora and CentOS</a></li>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#for-ubuntu-and-debian" id="id21">For Ubuntu and Debian</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#end-result" id="id22">End result</a><ul>
<li><a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#troubleshooting" id="id23">Troubleshooting</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id9">Prerequisites</a><a href="#prerequisites" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>In order to deploy your web application, you need a server that gives you root and ssh access — in other words, a VPS (or a dedicated server, or a datacenter lease…). If you’re looking for a great VPS service for a low price, I recommend <a class="reference external" href="https://www.digitalocean.com/?refcode=7983689b2ecc">DigitalOcean</a> (reflink <a class="footnote-reference" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id6" id="id1">[1]</a>), which offers a $5/mo service <a class="footnote-reference" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id7" id="id2">[2]</a>. If you want to play along at home, without buying a VPS, you can create a virtual machine on your own, or use Vagrant with a Vagrant box for Fedora 25 (<tt class="docutils literal"><span class="pre">fedora/25-cloud-base</span></tt>).</p>
<p>Your server should also run a modern Linux-based operating system. This guide was written and tested on:</p>
<ul class="simple">
<li>Ubuntu 16.04 LTS or newer</li>
<li>Debian 8 (jessie) or newer</li>
<li>Fedora 24 or newer (with SELinux enabled and disabled)</li>
<li>CentOS 7 (with SELinux enabled and disabled) — manual guide should also work on RHEL 7</li>
<li>Arch Linux</li>
</ul>
<p>Users of other Linux distributions (and perhaps other Unix flavors) can also follow this tutorial. This guide assumes <tt class="docutils literal">systemd</tt> as your init system; if you are not using systemd, you will have to get your own daemon files somewhere else. In places where the instructions are split three-way, try coming up with your own, reading documentation and config files; the Arch Linux instructions are probably the closest to upstream (but not always).  Unfortunately, all Linux distributions have their own ideas when it comes to running and managing nginx and uWSGI.</p>
<p>nginx and uWSGI are considered best practices by most people. nginx is a fast, modern web server, with uWSGI support built in (without resorting to reverse proxying).  uWSGI is similarly aimed at speed.  The Emperor mode of uWSGI is recommended for init system integration by the uWSGI team, and it’s especially useful for multi-app deployments. (This guide is opinionated.)</p>
</div>
<div class="section" id="automate-everything-ansible-playbook">
<h2><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id10">Automate everything: Ansible Playbook</a><a href="#automate-everything-ansible-playbook" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p class="lead">A <a class="reference external" href="https://github.com/Kwpolska/ansible-nginx-uwsgi">Playbook</a> that automates everything in this tutorial is available.</p>
<div class="section" id="how-to-use">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id11">How to use</a><a href="#how-to-use" class="headerlink" title="Permalink to this heading">¶</a></h3>
<ol class="arabic simple">
<li>Install <a class="reference external" href="https://docs.ansible.com/ansible/intro_installation.html">Ansible</a> on your control computer (not necessarily the destination server).</li>
<li>Clone the <a class="reference external" href="https://github.com/Kwpolska/ansible-nginx-uwsgi">Playbook</a> from GitHub.</li>
<li>Read <tt class="docutils literal">README.md</tt>. You should also understand how Ansible works.</li>
<li>Configure (change three files: <tt class="docutils literal">hosts</tt>, <tt class="docutils literal">group_vars/all</tt>, and <tt class="docutils literal">group_vars/os_&lt;destination OS&gt;</tt>
</li>
<li>Make sure all the dependencies are installed on your destination server</li>
<li>Run <tt class="docutils literal"><span class="pre">ansible-playbook</span> <span class="pre">-v</span> <span class="pre">nginx-uwsgi.yml</span> <span class="pre">-i</span> hosts</tt> and watch magic happen.</li>
<li>Skip over to <a class="reference internal" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#end-result">End result</a> and test your site.</li>
</ol>
</div>
</div>
<div class="section" id="the-manual-guide">
<h2><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id12">The manual guide</a><a href="#the-manual-guide" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Even though I personally recommend the Playbook as a much less error-prone way to set up your app, it might not be compatible with everyone’s system, or otherwise be the wrong solution. The original manual configuration guide is still maintained.</p>
<p>Even if you are using the Playbook, you should still read this to find out what happens under the hood, and to find out about other caveats/required configuration changes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All the commands in this tutorial are meant to be run <strong>as root</strong> — run <tt class="docutils literal">su</tt> or <tt class="docutils literal">sudo su</tt> first to get an administrative shell. This tutorial assumes familiarity with basic Linux administration and command-line usage.</p>
</div>
<div class="section" id="getting-started">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id13">Getting started</a><a href="#getting-started" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Start by installing virtualenv, nginx and uWSGI. I recommend using your operating system packages. For uWSGI, we need the <tt class="docutils literal">logfile</tt> and <tt class="docutils literal">python3</tt> plugins. (Arch Linux names the <tt class="docutils literal">python3</tt> plugin <tt class="docutils literal">python</tt>; the <tt class="docutils literal">logfile</tt> plugin may be built-in — check with your system repositories!). I’ll also install Git to clone the tutorial app, but it’s optional if your workflow does not involve git.</p>
<p><strong>Ubuntu, Debian:</strong></p>
<pre class="code sh"><a name="rest_code_5e2eeb93bfcf4f5598fd9703b0f6ddda-1"></a>apt install virtualenv python3 uwsgi uwsgi-emperor uwsgi-plugin-python3 nginx-full git
</pre>
<p><strong>Fedora:</strong></p>
<pre class="code sh"><a name="rest_code_ff69539070d34bfc92e3e48f92843e68-1"></a>dnf install python3-virtualenv uwsgi uwsgi-plugin-python3 uwsgi-logger-file nginx git
</pre>
<p><strong>CentOS:</strong></p>
<pre class="code sh"><a name="rest_code_e06f0a95234b41d681a404993a4baf9d-1"></a>yum install epel-release
<a name="rest_code_e06f0a95234b41d681a404993a4baf9d-2"></a>yum install python34 python34-pip uwsgi uwsgi-plugin-python3 uwsgi-logger-file nginx git wget
<a name="rest_code_e06f0a95234b41d681a404993a4baf9d-3"></a>python3 -m pip install --user virtualenv
</pre>
<p>We need to install virtualenv manually, because the <tt class="docutils literal"><span class="pre">python-virtualenv</span></tt> package is not compatible. It will be available to root only (user install).</p>
<p><strong>Arch Linux:</strong></p>
<pre class="code sh"><a name="rest_code_80eac04104564828a78d092a08d98f42-1"></a>pacman -S python-virtualenv uwsgi uwsgi-plugin-python nginx git
</pre>
</div>
<div class="section" id="preparing-your-application">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id14">Preparing your application</a><a href="#preparing-your-application" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>This tutorial will work for any web framework. I will use <a class="reference external" href="https://github.com/Kwpolska/flask-demo-app">a really basic Flask app</a> that has just one route (<tt class="docutils literal">/</tt>) <a class="footnote-reference" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id8" id="id3">[3]</a>, a static <tt class="docutils literal">hello.png</tt> file and a <tt class="docutils literal">favicon.ico</tt> for demonstration purposes. Note that the app does not use <tt class="docutils literal">app.run()</tt>. While you could add it, it would be used for local development and debugging only, and would have to be prepended by <tt class="docutils literal">if __name__ == '__main__':</tt> (if it wasn’t, that server would run instead of uWSGI, which is bad)</p>
<p>The app will be installed somewhere under the <tt class="docutils literal">/srv</tt> directory, which is a great place to store things like this. I’ll choose <tt class="docutils literal">/srv/myapp</tt> for this tutorial, but for real deployments, you should use something more distinguishable — the domain name is a great idea.</p>
<p>If you don’t use Flask, this tutorial also has instructions for other web frameworks (Django, Pyramid, Bottle) in the configuration files; it should be adjustable to any other WSGI-compliant framework/script nevertheless.</p>
<p>We’ll start by creating a virtualenv:</p>
<p><strong>Ubuntu, Debian:</strong></p>
<pre class="code sh"><a name="rest_code_e5e0ee6ffbad4d5a9291a2b0ba96f00e-1"></a><span class="nb">cd</span> /srv
<a name="rest_code_e5e0ee6ffbad4d5a9291a2b0ba96f00e-2"></a>virtualenv -p /usr/bin/python3 myapp
</pre>
<p><strong>Fedora, CentOS, Arch Linux:</strong></p>
<pre class="code sh"><a name="rest_code_4a0023f80caf445d871abb5c383e99dc-1"></a><span class="nb">cd</span> /srv
<a name="rest_code_4a0023f80caf445d871abb5c383e99dc-2"></a>python3 -m virtualenv myapp
</pre>
<p>(This tutorial assumes Python 3. Make sure you use the correct <tt class="docutils literal">virtualenv</tt> command/argument. If you want to use Python 2.7, you’ll need to adjust your uWSGI configuration as well.)</p>
<p>Now, we need to put our app there and install requirements. An example for the tutorial demo app:</p>
<pre class="code sh"><a name="rest_code_7d785cff10e6425a84eac07461137593-1"></a><span class="nb">cd</span> myapp
<a name="rest_code_7d785cff10e6425a84eac07461137593-2"></a>git clone https://github.com/Kwpolska/flask-demo-app appdata
<a name="rest_code_7d785cff10e6425a84eac07461137593-3"></a>bin/pip install -r appdata/requirements.txt
</pre>
<p>I’m storing my application data in the <tt class="docutils literal">appdata</tt> subdirectory so that it doesn’t clutter the virtualenv (or vice versa).  You may also install the <tt class="docutils literal">uwsgi</tt> package in the virtualenv, but it’s optional.</p>
<p>What this directory should be depends on your web framework.  For example, for a Django app, you should have an <tt class="docutils literal">appdata/manage.py</tt> file (in other words, <tt class="docutils literal">appdata</tt> is where your app structure starts).  I also assumed that the <tt class="docutils literal">appdata</tt> folder should have a <tt class="docutils literal">static</tt> subdirectory with all static files, including <tt class="docutils literal">favicon.ico</tt> if you have one (we will add support for both in nginx).</p>
<p>At this point, you should chown this directory to the user and group your server is going to run as.  This is especially important if uwsgi and nginx run as different users (as they do on Fedora). Run one of the following commands:</p>
<p><strong>Ubuntu, Debian:</strong></p>
<pre class="code sh"><a name="rest_code_dbfd5f846aed48bb9e19e6dca207f9f8-1"></a>chown -R www-data:www-data /srv/myapp
</pre>
<p><strong>Fedora, CentOS:</strong></p>
<pre class="code sh"><a name="rest_code_8af38a2664d3426ca4eaba583443cfcf-1"></a>chown -R uwsgi:nginx /srv/myapp
</pre>
<p><strong>Arch Linux:</strong></p>
<pre class="code sh"><a name="rest_code_7728c66936cd445cadca7704c666acaf-1"></a>chown -R http:http /srv/myapp
</pre>
</div>
<div class="section" id="configuring-uwsgi-and-nginx">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id15">Configuring uWSGI and nginx</a><a href="#configuring-uwsgi-and-nginx" class="headerlink" title="Permalink to this heading">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parts of the configuration depend on your operating system. I tried to provide advice for Ubuntu, Debian, Fedora, CentOS and Arch Linux. If you experience any issues, in particular with plugins, please consult the documentation.</p>
</div>
<p>We need to write a configuration file for uWSGI and nginx.</p>
<div class="section" id="uwsgi-configuration">
<h4><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id16">uWSGI configuration</a><a href="#uwsgi-configuration" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Start with this, but read the notes below and change the values accordingly:</p>
<pre class="code ini"><a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-1"></a><span class="k">[uwsgi]</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-2"></a><span class="na">socket</span> <span class="o">=</span> <span class="s">/srv/myapp/uwsgi.sock</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-3"></a><span class="na">chmod-socket</span> <span class="o">=</span> <span class="s">775</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-4"></a><span class="na">chdir</span> <span class="o">=</span> <span class="s">/srv/myapp/appdata</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-5"></a><span class="na">master</span> <span class="o">=</span> <span class="s">true</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-6"></a><span class="na">binary-path</span> <span class="o">=</span> <span class="s">/srv/myapp/bin/uwsgi</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-7"></a><span class="na">virtualenv</span> <span class="o">=</span> <span class="s">/srv/myapp</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-8"></a><span class="na">module</span> <span class="o">=</span> <span class="s">flaskapp:app</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-9"></a><span class="na">uid</span> <span class="o">=</span> <span class="s">www-data</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-10"></a><span class="na">gid</span> <span class="o">=</span> <span class="s">www-data</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-11"></a><span class="na">processes</span> <span class="o">=</span> <span class="s">1</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-12"></a><span class="na">threads</span> <span class="o">=</span> <span class="s">1</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-13"></a><span class="na">plugins</span> <span class="o">=</span> <span class="s">python3,logfile</span>
<a name="rest_code_21a1e9f699fd4774af210d47abf84d2c-14"></a><span class="na">logger</span> <span class="o">=</span> <span class="s">file:/srv/myapp/uwsgi.log</span>
</pre>
<p>Save this file as:</p>
<ul class="simple">
<li>Ubuntu, Debian: <tt class="docutils literal"><span class="pre">/etc/uwsgi-emperor/vassals/myapp.ini</span></tt>
</li>
<li>Fedora, CentOS: <tt class="docutils literal">/etc/uwsgi.d/myapp.ini</tt>
</li>
<li>Arch Linux: <tt class="docutils literal">/etc/uwsgi/vassals/myapp.ini</tt> (create the directory first and <strong>chown</strong> it to http: <tt class="docutils literal">mkdir <span class="pre">-p</span> /etc/uwsgi/vassals; chown <span class="pre">-R</span> http:http /etc/uwsgi/vassals</tt>)</li>
</ul>
<p>The options are:</p>
<ul>
<li>
<p class="first"><tt class="docutils literal">socket</tt> — the socket file that will be used by your application. It’s usually a file path (Unix domain socket). You could use a local TCP socket, but it’s not recommended.</p>
</li>
<li>
<p class="first"><tt class="docutils literal">chdir</tt> — the app directory.</p>
</li>
<li>
<p class="first"><tt class="docutils literal"><span class="pre">binary-path</span></tt> — the uWSGI executable to use. Remove if you didn’t install the (optional) <tt class="docutils literal">uwsgi</tt> package in your virtualenv.</p>
</li>
<li>
<p class="first"><tt class="docutils literal">virtualenv</tt> — the virtualenv for your application.</p>
</li>
<li>
<p class="first"><tt class="docutils literal">module</tt> — the name of the module that houses your application, and the object that speaks the WSGI interface, separated by colons. This depends on your web framework (use the <strong>Module name</strong>):</p>
<table border="1" class="table table-striped table-bordered docutils">
<colgroup>
<col width="4%">
<col width="5%">
<col width="5%">
<col width="9%">
<col width="31%">
<col width="12%">
<col width="34%">
</colgroup>
<thead valign="bottom"><tr>
<th class="head">Framework</th>
<th class="head">Package</th>
<th class="head">Callable</th>
<th class="head">Module name</th>
<th class="head">Package is…</th>
<th class="head">Callable is…</th>
<th class="head">Caveats</th>
</tr></thead>
<tbody valign="top">
<tr>
<td>Flask</td>
<td>filename</td>
<td>app</td>
<td>filename:app</td>
<td>module name (for a Python import)</td>
<td>Flask object</td>
<td>—</td>
</tr>
<tr>
<td>Django</td>
<td>project.wsgi</td>
<td>application</td>
<td>project.wsgi:application</td>
<td>
<tt class="docutils literal">project</tt> is name of your project (directory with settings.py); <tt class="docutils literal">wsgi</tt> is constant</td>
<td>constant</td>
<td>add an environment variable for settings: <tt class="docutils literal">env = DJANGO_SETTINGS_MODULE=project.settings</tt>
</td>
</tr>
<tr>
<td>Bottle</td>
<td>filename</td>
<td>app</td>
<td>filename:app</td>
<td>module name (for a Python import)</td>
<td><tt class="docutils literal">app = bottle.default_app()</tt></td>
<td>—</td>
</tr>
<tr>
<td>Pyramid</td>
<td>filename</td>
<td>app</td>
<td>filename:app</td>
<td>module name (for a Python import)</td>
<td><tt class="docutils literal">app = config.make_wsgi_app()</tt></td>
<td>make sure it’s <strong>not</strong> in an <tt class="docutils literal">if __name__ == '__main__':</tt> block — the demo app does that!)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p class="first"><tt class="docutils literal">uid</tt> and <tt class="docutils literal">gid</tt> — the names of the user account to use for your server.  Use the same values as in the <tt class="docutils literal">chown</tt> command above.</p>
</li>
<li>
<p class="first"><tt class="docutils literal">processes</tt> and <tt class="docutils literal">threads</tt> — control the resources devoted to this application. Because this is a simple hello app, I used one process with one thread, but for a real app, you will probably need more (you need to see what works the best; there is no algorithm to decide). Also, remember that if you use multiple processes, they don’t share memory (you need a database to share data between them).</p>
</li>
<li>
<p class="first"><tt class="docutils literal">plugins</tt> — the list of uWSGI plugins to use. For Arch Linux, use <tt class="docutils literal">plugins = python</tt> (the <tt class="docutils literal">logfile</tt> plugin is always active).</p>
</li>
<li>
<p class="first"><tt class="docutils literal">logger</tt> — the path to your app-specific logfile. (Other logging facilities are available, but this one is the easiest, especially for multiple applications on the same server)</p>
</li>
<li>
<p class="first"><tt class="docutils literal">env</tt> — environment variables to pass to your app. Useful for configuration, may be specified multiple times. Example for Django: <tt class="docutils literal">env = DJANGO_SETTINGS_MODULE=project.settings</tt></p>
</li>
</ul>
<p>You can test your configuration by running <tt class="docutils literal">uwsgi <span class="pre">--ini</span> /path/to/myapp.ini</tt> (disable the logger for stderr output or run <tt class="docutils literal">tail <span class="pre">-f</span> /srv/myapp/uwsgi.log</tt> in another window).</p>
<p>If you’re using <strong>Fedora</strong> or <strong>CentOS</strong>, there are two configuration changes you need to make globally: in <tt class="docutils literal">/etc/uwsgi.ini</tt>, disable the <tt class="docutils literal"><span class="pre">emperor-tyrant</span></tt> option (which we don’t need, as it sets uid/gid for every process based on the owner of the related <tt class="docutils literal">.ini</tt> config file — we use one global setup) and set <tt class="docutils literal">gid = nginx</tt>.  We’ll need this so that nginx can talk to your socket.</p>
</div>
<div class="section" id="nginx-configuration">
<h4><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id17">nginx configuration</a><a href="#nginx-configuration" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>We need to configure our web server. Here’s a basic configuration that will get us started:</p>
<p>Save this file as:</p>
<ul class="simple">
<li>Ubuntu, Debian: <tt class="docutils literal"><span class="pre">/etc/nginx/sites-enabled/myapp.conf</span></tt>
</li>
<li>Fedora, CentOS: <tt class="docutils literal">/etc/nginx/conf.d/myapp.conf</tt>
</li>
<li>Arch Linux: add <tt class="docutils literal">include <span class="pre">/etc/nginx/conf.d/*.conf;</span></tt> to your <tt class="docutils literal">http</tt> directive in <tt class="docutils literal">/etc/nginx/nginx.conf</tt> and use <tt class="docutils literal">/etc/nginx/conf.d/myapp.conf</tt>
</li>
</ul>
<pre class="code nginx"><a name="rest_code_aa7c49e292604deda8970d402a8f013f-1"></a><span class="k">server</span> <span class="p">{</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-2"></a>    <span class="c1"># for a public HTTP server:</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-3"></a>    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-4"></a>    <span class="c1"># for a public HTTPS server:</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-5"></a>    <span class="c1"># listen 443 ssl;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-6"></a>    <span class="kn">server_name</span> <span class="s">localhost</span> <span class="s">myapp.local</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-7"></a>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-8"></a>    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-9"></a>        <span class="kn">include</span> <span class="s">uwsgi_params</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-10"></a>        <span class="kn">uwsgi_pass</span> <span class="s">unix:/srv/myapp/uwsgi.sock</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-11"></a>    <span class="p">}</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-12"></a>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-13"></a>    <span class="kn">location</span> <span class="s">/static</span> <span class="p">{</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-14"></a>        <span class="kn">alias</span> <span class="s">/srv/myapp/appdata/static</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-15"></a>    <span class="p">}</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-16"></a>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-17"></a>    <span class="kn">location</span> <span class="s">/favicon.ico</span> <span class="p">{</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-18"></a>        <span class="kn">alias</span> <span class="s">/srv/myapp/appdata/static/favicon.ico</span><span class="p">;</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-19"></a>    <span class="p">}</span>
<a name="rest_code_aa7c49e292604deda8970d402a8f013f-20"></a><span class="p">}</span>
</pre>
<p>Note that this file is a very basic and rudimentary configuration. This configuration is fine for local testing, but for a real deployment, you will need to adjust it:</p>
<ul class="simple">
<li>set <tt class="docutils literal">listen</tt> to <tt class="docutils literal">443 ssl</tt> and create a http→https redirect on port 80 (you can get a free SSL certificate from <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a>; make sure to <a class="reference external" href="https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html">configure SSL properly</a>).</li>
<li>set <tt class="docutils literal">server_name</tt> to your real domain name</li>
<li>you might also want to add custom error pages, log files, or change anything else that relates to your web server — consult other nginx guides for details</li>
<li>nginx usually has some server already enabled by default — edit <tt class="docutils literal">/etc/nginx/nginx.conf</tt> or remove their configuration files from your sites directory to disable it</li>
</ul>
</div>
</div>
<div class="section" id="service-setup">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id18">Service setup</a><a href="#service-setup" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>After you’ve configured uWSGI and nginx, you need to enable and start the system services.</p>
<div class="section" id="for-arch-linux">
<h4><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id19">For Arch Linux</a><a href="#for-arch-linux" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>All you need is:</p>
<pre class="code sh"><a name="rest_code_f7a1fec3110e4dd9b5eb212c6258785a-1"></a>systemctl <span class="nb">enable</span> nginx emperor.uwsgi
<a name="rest_code_f7a1fec3110e4dd9b5eb212c6258785a-2"></a>systemctl start nginx emperor.uwsgi
</pre>
<p>Verify the service is running with <tt class="docutils literal">systemctl status emperor.uwsgi</tt></p>
</div>
<div class="section" id="for-fedora-and-centos">
<h4><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id20">For Fedora and CentOS</a><a href="#for-fedora-and-centos" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Make sure you followed the extra note about editing <tt class="docutils literal">/etc/uwsgi.ini</tt> earlier and run:</p>
<pre class="code sh"><a name="rest_code_d8ae1499da244be7836687013dd69bbc-1"></a>systemctl <span class="nb">enable</span> nginx uwsgi
<a name="rest_code_d8ae1499da244be7836687013dd69bbc-2"></a>systemctl start nginx uwsgi
</pre>
<p>Verify the service is running with <tt class="docutils literal">systemctl status uwsgi</tt></p>
<p>If you disabled SELinux, this is enough to get an app working and you can skip over to the next section.</p>
<p>If you want to use SELinux, you need to do the following to allow nginx to read static files:</p>
<pre class="code sh"><a name="rest_code_ac68d8afb52b4f60a91380ecbad923d8-1"></a>setenforce <span class="m">0</span>
<a name="rest_code_ac68d8afb52b4f60a91380ecbad923d8-2"></a>chcon -R system_u:system_r:httpd_t:s0 /srv/myapp/appdata/static
<a name="rest_code_ac68d8afb52b4f60a91380ecbad923d8-3"></a>setenforce <span class="m">1</span>
</pre>
<p>We now need to install a <a class="reference external" href="https://chriswarrick.com/pub/nginx-uwsgi.pp">SELinux policy</a> (that I created for this project) to allow nginx and uWSGI to communicate.
Download it and run:</p>
<pre class="code sh"><a name="rest_code_0df7d8d4819f468fa7e61023c53083d9-1"></a>semodule -i nginx-uwsgi.pp
</pre>
<p>Hopefully, this is enough (you can delete the file). In case it isn’t, please read SELinux documentation, check audit logs, and look into <tt class="docutils literal">audit2allow</tt>.</p>
</div>
<div class="section" id="for-ubuntu-and-debian">
<h4><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id21">For Ubuntu and Debian</a><a href="#for-ubuntu-and-debian" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Ubuntu and Debian (still!) use LSB services for uWSGI. Because LSB services are awful, we’re going to set up our own systemd-based (native) service.</p>
<p>Start by disabling the LSB service that comes with Ubuntu and Debian:</p>
<pre class="code sh"><a name="rest_code_6d8bbc62570c48fd9e5fcf44140eb779-1"></a>systemctl stop uwsgi-emperor
<a name="rest_code_6d8bbc62570c48fd9e5fcf44140eb779-2"></a>systemctl disable uwsgi-emperor
</pre>
<p>Copy the <tt class="docutils literal">.service</tt> file from the <a class="reference external" href="https://uwsgi-docs.readthedocs.org/en/latest/Systemd.html#adding-the-emperor-to-systemd">uWSGI systemd documentation</a> to <tt class="docutils literal">/etc/systemd/system/emperor.uwsgi.service</tt>.  Change the ExecStart line to:</p>
<pre class="code ini"><a name="rest_code_9b69718e78904381906d9956831f09d8-1"></a><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/bin/uwsgi --ini /etc/uwsgi-emperor/emperor.ini</span>
</pre>
<p>You can now reload systemd daemons and enable the services:</p>
<pre class="code sh"><a name="rest_code_b94fec76ae4444ec9429651741b21ec9-1"></a>systemctl daemon-reload
<a name="rest_code_b94fec76ae4444ec9429651741b21ec9-2"></a>systemctl <span class="nb">enable</span> nginx emperor.uwsgi
<a name="rest_code_b94fec76ae4444ec9429651741b21ec9-3"></a>systemctl reload nginx
<a name="rest_code_b94fec76ae4444ec9429651741b21ec9-4"></a>systemctl start emperor.uwsgi
</pre>
<p>Verify the service is running with <tt class="docutils literal">systemctl status emperor.uwsgi</tt>.  (Ignore
the warning about no request plugin)</p>
</div>
</div>
</div>
<div class="section" id="end-result">
<h2><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id22">End result</a><a href="#end-result" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Your web service should now be running at <a class="reference external" href="http://localhost/">http://localhost/</a> (or wherever you set up server to listen).</p>
<p>If you used the demo application, you should see something like this (complete with the favicon and image greeting):</p>
<img alt="/images/nginx-uwsgi-demo.png" class="centered" src="/images/nginx-uwsgi-demo.png"><p>If you want to test with cURL:</p>
<pre class="code sh"><a name="rest_code_cd888ef4fc1f4a3297d2a651cb84aa34-1"></a>curl -v http://localhost/
<a name="rest_code_cd888ef4fc1f4a3297d2a651cb84aa34-2"></a>curl -I http://localhost/favicon.ico
<a name="rest_code_cd888ef4fc1f4a3297d2a651cb84aa34-3"></a>curl -I http://localhost/static/hello.png
</pre>
<div class="section" id="troubleshooting">
<h3><a class="toc-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id23">Troubleshooting</a><a href="#troubleshooting" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Hopefully, everything works. If it doesn’t:</p>
<ul class="simple">
<li>Check your nginx, system (<tt class="docutils literal">journalctl</tt>, <tt class="docutils literal">systemctl status SERVICE</tt>) and uwsgi (<tt class="docutils literal">/srv/myapp/uwsgi.log</tt>) logs.</li>
<li>Make sure you followed all instructions.</li>
<li>If you get a default site, disable that site in nginx config (<tt class="docutils literal">/etc/nginx/nginx.conf</tt> or your sites directory).</li>
<li>If you have a firewall installed, make sure to open the ports your web server runs on (typically 80/443). For <tt class="docutils literal">firewalld</tt> (Fedora, CentOS):</li>
</ul>
<pre class="code sh"><a name="rest_code_89f6794ccef74fe2b4e4609b7de8d213-1"></a>firewall-cmd --add-service http
<a name="rest_code_89f6794ccef74fe2b4e4609b7de8d213-2"></a>firewall-cmd --add-service https
</pre>
<ul class="simple">
<li>If it still does not work, feel free to ask in the comments, mentioning your distribution, installation method, and what doesn’t work.</li>
</ul>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup>
<col class="label">
<col>
</colgroup>
<tbody valign="top"><tr>
<td class="label"><a class="fn-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id1">[1]</a></td>
<td>This reflink gives you $10 in credit, which is enough to run a server for up to two months without paying a thing. I earn $15.</td>
</tr></tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup>
<col class="label">
<col>
</colgroup>
<tbody valign="top"><tr>
<td class="label"><a class="fn-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id2">[2]</a></td>
<td>For the cheapest plan. If you’re in the EU (and thus have to pay VAT), or want DO to handle your backups, it will cost you a little more.</td>
</tr></tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup>
<col class="label">
<col>
</colgroup>
<tbody valign="top"><tr>
<td class="label"><a class="fn-backref" href="/blog/2016/02/10/deploying-python-web-apps-with-nginx-and-uwsgi-emperor/#id3">[3]</a></td>
<td>This app does not use templates, but you should in any real project. This app is meant to be as simple as possible.</td>
</tr></tbody>
</table>
</div>
</div>
</div>
    </article>
</div>
    <aside class="postpromonav"><div class="card guide-footer">
  <div class="card-header bg-primary border-primary"><h3>That’s all!</h3></div>
  <div class="card-body">
    Hopefully, the guide worked for you and your Python web app is up and running. If so, great! Otherwise, make sure you did everything as stated in this guide. If you are still stuck, ask for help in the comments.
  </div>
  <div class="card-footer"><a href="/guides/">Check out my other guides!</a></div>
</div>
    <nav><ul class="pager hidden-print">
<li class="previous">
                <a href="/blog/2015/12/27/windows-10-november-upgrade-windows-as-a-dis-service/" rel="prev" title="Windows 10 November Upgrade: Windows as a (Dis-)service">Previous post</a>
            </li>
            <li class="next">
                <a href="/blog/2016/05/27/code-writing-code-python-and-vim/" rel="next" title="Code writing code: Python and Vim as development aids">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><div data-title="Deploying Python Web Applications with nginx and uWSGI Emperor" id="isso-thread"></div>
        <script src="https://isso.chriswarrick.com/js/embed.min.js" data-isso="https://isso.chriswarrick.com/" data-isso-lang="en" data-isso-require-author="true" data-isso-require-email="true" data-isso-gravatar="true" data-isso-avatar="false" data-isso-css="false" data-isso-vote="false" data-isso-reply-notifications="true"></script></section><!--End of body content--><footer id="footer"><p>this site uses cookies.<br>by using this site, you agree to our <a href="/privacy/">cookie and privacy policy</a>.</p>
<p>
powered by <strong><a href="https://getnikola.com/">Nikola</a></strong>, <a href="http://nginx.org/">nginx</a> and <a href="https://www.digitalocean.com/?refcode=7983689b2ecc">DigitalOcean</a><br>
copyright © 2009–2019 <a href="/contact/">Chris Warrick</a><br><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC
BY-NC-SA</a>, unless stated otherwise</p>
            
        </footer>
</div>


    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha256-ZvOgfh+ptkpoa2Y4HkRY28ir89u/+VRyDE7sB7hEEcI=" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.0/baguetteBox.min.js" integrity="sha256-yQGjQhFs3LtyiN5hhr3k9s9TWZOh/RzCkD3gwwCKlkg=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js" integrity="sha256-AdQN98MVZs44Eq2yTwtoKufhnU+uZ7v2kXnD5vqzZVo=" crossorigin="anonymous"></script><script src="/assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11937989-1', 'chriswarrick.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>
</body>
</html>